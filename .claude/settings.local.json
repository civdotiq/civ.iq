{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "permissions": {
    "allow": [
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(wc:*)",
      "Bash(npx prettier:*)",
      "Bash(time curl:*)",
      "Bash(python3:*)",
      "Bash(npm install:*)",
      "Bash(echo:*)",
      "WebSearch",
      "Bash(sqlite3:*)",
      "Bash(node:*)",
      "Bash(apt list:*)",
      "Bash(npm run type-check:*)",
      "Bash(npx tsc:*)",
      "Bash(npm uninstall:*)",
      "Bash(npx tsx:*)",
      "Bash(npx vitest run:*)",
      "Bash(npm test:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(npm audit:*)",
      "Bash(git reset:*)",
      "Bash(npm run lint)",
      "Bash(pkill:*)",
      "Bash(kill:*)",
      "Bash(lsof:*)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebFetch(domain:blogs.loc.gov)",
      "Bash(npm run lint:*)",
      "Bash(sed:*)",
      "WebFetch(domain:www.wikidata.org)",
      "Bash(timeout 10 curl -s http://localhost:3005/api/districts/all)",
      "Bash(timeout 10 curl -s http://localhost:3000/api/districts/all)",
      "Bash(timeout 10 curl -s http://localhost:3004/api/districts/all)",
      "Bash(timeout 5 curl -s http://localhost:3004/api/districts/all)",
      "Bash(timeout 30 curl -s http://localhost:3004/api/districts/all?bust=true)",
      "Bash(tree:*)",
      "Bash(timeout 10 curl -s http://localhost:3000/)",
      "Bash(npm run test:unit:*)",
      "Bash(npx eslint:*)",
      "Bash(timeout 10 curl -s \"http://localhost:3000/api/v2/representatives?format=simple&limit=2\")",
      "Bash(timeout 10 curl -s \"http://localhost:3000/api/v2/representatives/K000367?format=simple\")",
      "Bash(timeout:*)",
      "Bash(ls:*)",
      "Bash(__NEW_LINE__ echo \"1. Health endpoint:\")",
      "Bash(__NEW_LINE__ echo \"2. V2 Representatives (small):\")",
      "Bash(__NEW_LINE__ echo \"3. Representatives by ZIP:\")",
      "Bash(__NEW_LINE__ echo \"4. Individual Representative:\")",
      "Bash(__NEW_LINE__ echo \"5. Cache Status:\")",
      "Bash(__NEW_LINE__ echo \"Second call (should use cache - faster):\")",
      "Bash(__NEW_LINE__ echo \"Cache status after calls:\")",
      "Bash(npm run build:*)",
      "Bash(npm list:*)",
      "Bash(npm run test:*)",
      "Bash(netstat:*)",
      "Bash(npx vercel logs:*)",
      "Bash(src/app/api/district-map/route.ts )",
      "Bash(src/app/api/local-government/[location]/route.ts )",
      "Bash(src/app/api/state-bills/[state]/route.ts )",
      "Bash(src/app/api/state-representatives/route.ts )",
      "Bash(src/app/api/district-boundaries/[districtId]/route.ts )",
      "Bash(src/app/api/representatives/by-district/route.ts )",
      "Bash(src/app/api/agent/route.ts )",
      "Bash(src/app/api/state-legislature/[state]/route.ts )",
      "Bash(src/app/api/committee/[committeeId]/timeline/route.ts )",
      "Bash(src/app/api/compare/route.ts )",
      "Bash(src/app/api/representative/[bioguideId]/voting-record/route.ts )",
      "Bash(src/app/api/representative/[bioguideId]/news/route.ts )",
      "Bash(src/app/api/representative/[bioguideId]/votes/route.ts )",
      "Bash(src/app/api/representative/[bioguideId]/route.ts)",
      "Bash(npm:*)",
      "Bash(cat:*)",
      "Bash(git stash:*)",
      "Bash(git checkout:*)",
      "Bash(NEXT_DEBUG=1 npx next build --no-lint)",
      "Bash(vercel:*)",
      "Bash(npx vercel:*)",
      "Read(//mnt/c/Users/Ron Ecstasy/Downloads/**)",
      "Bash(redis-cli:*)",
      "Bash(pgrep:*)",
      "WebFetch(domain:api.congress.gov)",
      "Read(//tmp/**)",
      "Bash(set -a)",
      "Bash(source .env.local)",
      "Bash(set +a)",
      "Bash(rm:*)",
      "WebFetch(domain:query.wikidata.org)",
      "WebFetch(domain:en.wikipedia.org)",
      "Bash(/dev/null)",
      "Bash(jobs:*)",
      "Bash(redis-server:*)",
      "Read(//mnt/d/Downloads/Vivaldi Captures (feb_3_2022)/**)",
      "WebFetch(domain:www.congress.gov)",
      "Read(//mnt/d/Downloads/Downloads/**)",
      "WebFetch(domain:www.opensecrets.org)",
      "Read(//mnt/d/Downloads/**)",
      "Bash(xargs kill:*)",
      "WebFetch(domain:news.google.com)",
      "Bash(ss:*)",
      "Bash(awk:*)",
      "WebFetch(domain:blog.gdeltproject.org)",
      "Bash(for:*)",
      "Bash(do:*)",
      "Bash(done)",
      "Bash(xargs:*)",
      "Bash(tee:*)",
      "Bash(PORT=3000 npm run dev)",
      "WebFetch(domain:www.cookpolitical.com)",
      "WebFetch(domain:www.census.gov)",
      "WebFetch(domain:catalog.data.gov)",
      "Bash(time timeout:*)",
      "Bash(PORT=3001 npm run dev)",
      "Bash(PORT=3002 npm run dev)",
      "Bash(NEWS_SOURCE=RSS npm run dev)",
      "Bash(mkdir:*)",
      "Bash(killall:*)",
      "Bash(PERF_LOGGING=true timeout 10 curl -s http://localhost:3000/api/representative/T000480)",
      "Bash(Get-Process -Name \"node\")",
      "Bash(Stop-Process -Force)",
      "Bash(chmod:*)",
      "Bash(bash:*)",
      "Bash(/mnt/d/civic-intel-hub/scripts/cleanup-processes.sh:*)",
      "Bash(./scripts/cleanup-processes.sh:*)",
      "WebFetch(domain:ballotpedia.org)",
      "WebFetch(domain:docs.google.com)",
      "Bash(while read f)",
      "Bash(PORT=3005 npm run dev)",
      "Bash(fuser:*)",
      "Bash(npx depcheck:*)",
      "Read(//root/**)",
      "Bash(git rm:*)",
      "WebFetch(domain:civiq.vercel.app)",
      "Bash(API_KEY=\"9hGCfXcar1zZ8XwDGBHQ3QVU6rcCJ0v6SXWBcRR9\")",
      "Bash(export API_KEY=\"9hGCfXcar1zZ8XwDGBHQ3QVU6rcCJ0v6SXWBcRR9\")",
      "Bash(dos2unix:*)",
      "Bash(openssl rand:*)",
      "Bash(printf \"redis://default:AWAOAAIncDJmMjM4ZWExMTk0NDk0N2EzOTM4MDE1YTg0NDg5YWUxZnAyMjQ1OTA@teaching-seahorse-24590.upstash.io:6379\")",
      "Bash(printf \"https://teaching-seahorse-24590.upstash.io\")",
      "Bash(printf \"AmAOAAIgcDLjJ4nqPEicKxyhDn3gSWCKiNtq5YmmJq2QGzYiH1xFyg\")",
      "WebFetch(domain:newsapi.org)",
      "WebFetch(domain:api.open.fec.gov)",
      "WebFetch(domain:www.senate.gov)",
      "Bash(if [ -f \"public/data/districts/standard/4504.json\" ])",
      "Bash(then echo \"File exists\")",
      "Bash(jq:*)",
      "Bash(else echo \"File not found\")",
      "Bash(fi)",
      "WebFetch(domain:civdotiq.org)",
      "WebFetch(domain:www.fec.gov)",
      "Bash(du:*)",
      "Bash(sort -t: -k2 -n)",
      "WebFetch(domain:civiq-4aog-o1z0iuj2b-marks-projects-47d52265.vercel.app)",
      "Bash(git restore --staged .claude/settings.local.json vercel-*.log)",
      "WebFetch(domain:api.votesmart.org)",
      "WebFetch(domain:docs.openstates.org)",
      "WebFetch(domain:v3.openstates.org)",
      "WebFetch(domain:pillarsapp.us)",
      "Bash(git log:*)",
      "Bash(cd:*)",
      "Bash(npx next build:*)",
      "Bash(git restore:*)",
      "Bash([ -f .env.local ])",
      "WebFetch(domain:api.ballotpedia.org)",
      "WebFetch(domain:api.github.com)",
      "Bash(/tmp/prod-mi.json)",
      "Bash(git diff:*)",
      "Bash(TEST_MODE=true node scripts/generate-committee-biographies.mjs:*)",
      "Bash(TEST_MODE=true node scripts/download-representative-photos.mjs:*)",
      "Bash(TEST_MODE=true node scripts/optimize-photos-to-webp.mjs:*)",
      "Bash(while read file)",
      "Bash(then echo $file fi done)",
      "WebFetch(domain:bioguide.congress.gov)",
      "Bash(gemini -m \"gemini-3-pro\" -a -p \"Conduct a comprehensive UI/UX enhancement review of the civic-intel-hub codebase focusing on three specific areas:\n\n1. **UI Guidelines Adherence**: Analyze all components in src/components/ and src/features/ for adherence to:\n   - Clean, minimalist design principles\n   - Mobile-first responsive patterns\n   - Aicher/Rams geometric modernist visualizations (as mentioned in CLAUDE.MD recent development)\n\n2. **Known Issues - Mobile Layouts**: Focus on identifying solutions for:\n   - Mobile layout optimization issues\n   - Complex data tables and charts rendering on mobile devices\n   - Responsive breakpoints and touch targets\n\n3. **API Utilization Efficiency**: Examine src/features/representatives/ components to assess:\n   - How efficiently they use the 15 Federal Representative endpoints\n   - Whether the batch data fetch endpoint (/api/representative/[bioguideId]/batch) is being utilized optimally\n   - Opportunities to reduce API calls through better batching\n\n**Required Output Format**: \nReturn findings as a clean Markdown table with exactly these three columns:\n| Area of Review | Summary of Finding (Code/Pattern Reference) | High-Impact UX Suggestion |\n\nInclude 8-12 rows covering the most impactful findings across all three focus areas. Reference specific file paths and line numbers where applicable.\")",
      "Bash(command -v nvm:*)",
      "Bash([ -s \"$HOME/.nvm/nvm.sh\" ])",
      "Bash(export NVM_DIR=\"$HOME/.nvm\")",
      "Bash([ -s \"$NVM_DIR/nvm.sh\" ])",
      "Bash(. \"$NVM_DIR/nvm.sh\")",
      "Bash(nvm install:*)",
      "Bash(wait)",
      "Bash(gemini --version:*)",
      "Bash(gemini -m \"gemini-2.0-flash-exp\" -a -p \"Conduct a comprehensive UI/UX enhancement review of the civic-intel-hub codebase focusing on three specific areas:\n\n1. **UI Guidelines Adherence**: Analyze all components in src/components/ and src/features/ for adherence to:\n   - Clean, minimalist design principles\n   - Mobile-first responsive patterns\n   - Aicher/Rams geometric modernist visualizations (as mentioned in CLAUDE.MD recent development)\n   - Brand colors usage (--civiq-red: #e11d07, --civiq-green: #0a9338, --civiq-blue: #3ea2d4)\n\n2. **Known Issues - Mobile Layouts**: Focus on identifying solutions for:\n   - Mobile layout optimization issues (mentioned in CLAUDE.MD Known Issues)\n   - Complex data tables and charts rendering on mobile devices\n   - Responsive breakpoints and touch targets\n   - Loading states and accessibility (WCAG 2.1 AA)\n\n3. **API Utilization Efficiency**: Examine src/features/representatives/ components to assess:\n   - How efficiently they use the 15 Federal Representative endpoints\n   - Whether the batch data fetch endpoint (/api/representative/[bioguideId]/batch) is being utilized optimally\n   - Opportunities to reduce API calls through better batching\n   - Check if components are following the ''Server → client → components flow'' pattern mentioned in CLAUDE.MD\n\n**Required Output Format**: \nReturn findings as a clean Markdown table with exactly these three columns:\n| Area of Review | Summary of Finding (Code/Pattern Reference) | High-Impact UX Suggestion |\n\nInclude 8-12 rows covering the most impactful findings across all three focus areas. Reference specific file paths and line numbers where applicable.\")",
      "Bash(gemini -m \"gemini-2.0-flash-exp\" -p \"Conduct a comprehensive UI/UX enhancement review of the civic-intel-hub codebase focusing on three specific areas:\n\n1. **UI Guidelines Adherence**: Analyze all components in src/components/ and src/features/ for adherence to:\n   - Clean, minimalist design principles\n   - Mobile-first responsive patterns\n   - Aicher/Rams geometric modernist visualizations (as mentioned in CLAUDE.MD recent development)\n   - Brand colors usage (--civiq-red: #e11d07, --civiq-green: #0a9338, --civiq-blue: #3ea2d4)\n\n2. **Known Issues - Mobile Layouts**: Focus on identifying solutions for:\n   - Mobile layout optimization issues (mentioned in CLAUDE.MD Known Issues)\n   - Complex data tables and charts rendering on mobile devices\n   - Responsive breakpoints and touch targets\n   - Loading states and accessibility (WCAG 2.1 AA)\n\n3. **API Utilization Efficiency**: Examine src/features/representatives/ components to assess:\n   - How efficiently they use the 15 Federal Representative endpoints\n   - Whether the batch data fetch endpoint (/api/representative/[bioguideId]/batch) is being utilized optimally\n   - Opportunities to reduce API calls through better batching\n   - Check if components are following the ''Server → client → components flow'' pattern mentioned in CLAUDE.MD\n\n**Required Output Format**: \nReturn findings as a clean Markdown table with exactly these three columns:\n| Area of Review | Summary of Finding (Code/Pattern Reference) | High-Impact UX Suggestion |\n\nInclude 8-12 rows covering the most impactful findings across all three focus areas. Reference specific file paths and line numbers where applicable.\")",
      "Bash(nvm list:*)",
      "Bash(nvm use:*)",
      "Bash(npx @next/codemod@canary next-lint-to-eslint-cli . --force)",
      "Bash(env)",
      "Bash(git check-ignore:*)",
      "Bash(gemini -m \"gemini-3-pro\" -a -p \"Analyze the district boundary map rendering issue in the civic-intel-hub codebase. The map shows base tiles and indicates successful data fetch (''✅ Live from Census TIGER API • 119th Congress (616 coordinate points)''), but the district overlay polygon is not visible.\n\n**Investigation Focus:**\n\n1. **Map Component Analysis** - Find all components that render district boundaries:\n   - Search for files containing ''District Boundaries'', ''district-boundaries'', or similar map rendering logic\n   - Identify the main map component(s) used for displaying congressional districts\n   - Check if using Leaflet, Mapbox, or other mapping library\n\n2. **Data Flow Verification**:\n   - Trace how boundary data flows from API endpoint to map component\n   - Find the API endpoint that returns Census TIGER data (look for ''/api/district-boundaries'')\n   - Check how GeoJSON or coordinate data is processed and passed to map renderer\n\n3. **Rendering Logic Issues**:\n   - Look for polygon/path rendering code (GeoJSON layers, vector overlays)\n   - Check for styling issues (stroke color, fill color, opacity settings that might make overlay invisible)\n   - Identify any conditional rendering logic that might prevent overlay display\n   - Look for z-index or layer ordering issues\n\n4. **Error Handling**:\n   - Check console.log/console.error statements in map components\n   - Look for try-catch blocks that might be silently failing\n   - Identify any data validation that might reject valid coordinates\n\n**Output Format:**\nReturn a structured analysis with:\n1. File paths of relevant map components\n2. Specific line numbers where boundary overlay rendering occurs\n3. Any obvious bugs or misconfigurations (styling, data parsing, conditional rendering)\n4. Recommended fixes with file:line references\")",
      "Bash(gemini -m \"gemini-3-pro\" -p \"Analyze the district boundary map rendering issue in the civic-intel-hub codebase. The map shows base tiles and indicates successful data fetch (''✅ Live from Census TIGER API • 119th Congress (616 coordinate points)''), but the district overlay polygon is not visible.\n\n**Investigation Focus:**\n\n1. **Map Component Analysis** - Find all components that render district boundaries:\n   - Search for files containing ''District Boundaries'', ''district-boundaries'', or similar map rendering logic\n   - Identify the main map component(s) used for displaying congressional districts\n   - Check if using Leaflet, Mapbox, or other mapping library\n\n2. **Data Flow Verification**:\n   - Trace how boundary data flows from API endpoint to map component\n   - Find the API endpoint that returns Census TIGER data (look for ''/api/district-boundaries'')\n   - Check how GeoJSON or coordinate data is processed and passed to map renderer\n\n3. **Rendering Logic Issues**:\n   - Look for polygon/path rendering code (GeoJSON layers, vector overlays)\n   - Check for styling issues (stroke color, fill color, opacity settings that might make overlay invisible)\n   - Identify any conditional rendering logic that might prevent overlay display\n   - Look for z-index or layer ordering issues\n\n4. **Error Handling**:\n   - Check console.log/console.error statements in map components\n   - Look for try-catch blocks that might be silently failing\n   - Identify any data validation that might reject valid coordinates\n\n**Output Format:**\nReturn a structured analysis with:\n1. File paths of relevant map components\n2. Specific line numbers where boundary overlay rendering occurs\n3. Any obvious bugs or misconfigurations (styling, data parsing, conditional rendering)\n4. Recommended fixes with file:line references\")",
      "Bash(git mv:*)"
    ],
    "deny": [],
    "ask": []
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/hooks/react-app/quality-check.js"
          }
        ]
      }
    ]
  }
}
